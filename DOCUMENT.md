# RK3568 Document


- Rockchip_RK3568_TRM_Part1_V1.1-20210301.pdf
Table of Content
Table of Content ....................................................................................................... 3
Figure Index ............................................................................................................ 7
Table Index ............................................................................................................. 9
Warranty Disclaimer ................................................................................................ 10
Chapter 1 System Overview ...................................................................................... 11
1.1 Address Mapping........................................................................................ 11
1.2 System Boot.............................................................................................. 13
1.3 System Interrupt Connection ....................................................................... 15
1.4 System DMA Hardware Request Connection .................................................. 17
Chapter 2 Clock & Reset Unit (CRU) ........................................................................... 19
2.1 Overview .................................................................................................. 19
2.2 Block Diagram ........................................................................................... 19
2.3 Function Description ................................................................................... 19
2.4 CRU Register Description ............................................................................ 22
2.5 SCRU Register Description..........................................................................147
2.6 PMUCRU Register Description .....................................................................155
2.7 PMUSCRU Register Description ...................................................................167
2.8 Application Notes ......................................................................................169
Chapter 3 General Register Files (GRF) ..................................................................... 174
3.1 Overview .................................................................................................174
3.2 Function Description ..................................................................................174
3.3 PMU_GRF Register Description ....................................................................174
3.4 CPU_GRF Register Description ....................................................................214
3.5 DDR_GRF Register Description ....................................................................216
3.6 PIPE_GRF Register Description ....................................................................223
3.7 SYS_GRF Register Description ....................................................................237
3.8 PIPE_PHY Register Description ....................................................................412
3.9 USBPHY_U3_GRF_Register Description ........................................................419
3.10 USB2PHY_U2_GRF_Register Description .....................................................426
3.11 EDP_PHY Register Description ...................................................................432
3.12 PCIEPHY_GRF Register Description ............................................................438
3.13 USB_GRF Register Description ..................................................................464
Chapter 4 Cortex-A55 ............................................................................................ 468
4.1 Overview .................................................................................................468
4.2 Block Diagram ..........................................................................................468
4.3 Function Description ..................................................................................469
Chapter 5 Embedded SRAM .................................................................................... 470
5.1 Overview .................................................................................................470
5.2 Block Diagram ..........................................................................................470
5.3 Function Description ..................................................................................470
Chapter 6 GPU(Graphics Process Unit) ...................................................................... 472
6.1 Overview .................................................................................................472
6.2 Block Diagram ..........................................................................................472
6.3 Function Description ..................................................................................472
6.4 Register Description ..................................................................................472
Chapter 7 Power Management Unit (PMU) ................................................................. 473
7.1 Overview .................................................................................................473
7.2 Block Diagram ..........................................................................................473
7.3 Function Description ..................................................................................474
7.4 Register Description ..................................................................................477
7.5 Timing Diagram ........................................................................................514
7.6 Application Notes ......................................................................................514
Chapter 8 MCU ..................................................................................................... 516
8.1 Overview .................................................................................................516
8.2 Block Diagram ..........................................................................................516
8.3 Function Description ..................................................................................517
8.4 Register Description ..................................................................................518
8.5 Interface Description .................................................................................543
8.6 Application Notes ......................................................................................543
Chapter 9 GIC-600 ................................................................................................ 544
9.1 Overview .................................................................................................544
9.2 Block Diagram ..........................................................................................544
9.3 Function Description ..................................................................................545
Chapter 10 DMA Controller (DMAC).......................................................................... 546
10.1 Overview................................................................................................546
10.2 Block Diagram ........................................................................................547
10.3 Function Description ................................................................................547
10.4 Register Description.................................................................................548
10.5 Timing Diagram ......................................................................................595
10.6 Interface Description ...............................................................................595
10.7 Application Notes ....................................................................................599
Chapter 11 Timer .................................................................................................. 605
11.1 Overview................................................................................................605
11.2 Block Diagram ........................................................................................605
11.3 Function Description ................................................................................605
11.4 Register Description.................................................................................607
11.5 Application Notes ....................................................................................608
Chapter 12 Watchdog ............................................................................................ 610
12.1 Overview................................................................................................610
12.2 Block Diagram ........................................................................................610
12.3 Function Description ................................................................................610
12.4 Register Description.................................................................................611
Chapter 13 System Debug ...................................................................................... 615
13.1 Overview................................................................................................615
13.2 Block Diagram ........................................................................................615
13.3 Function Description ................................................................................615
13.4 Register Description.................................................................................615
13.5 Interface Description ...............................................................................616
Chapter 14 Mailbox ................................................................................................ 617
14.1 Overview................................................................................................617
14.2 Block Diagram ........................................................................................617
14.3 Function Description ................................................................................617
14.5 Application Notes ....................................................................................627
Chapter 15 Pulse Width Modulation (PWM) ................................................................ 628
15.1 Overview................................................................................................628
15.2 Block Diagram ........................................................................................629
15.3 Function Description ................................................................................629
15.4 Register Description.................................................................................630
15.5 Interface Description ...............................................................................648
15.6 Application Notes ....................................................................................650
Chapter 16 GPIO ................................................................................................... 652
16.1 Overview................................................................................................652
16.2 Block Diagram ........................................................................................652
16.3 Function Description ................................................................................652
16.4 Register Description.................................................................................653
16.5 Interface Description ...............................................................................661
16.6 Application Notes ....................................................................................662
Chapter 17 SAR-ADC ............................................................................................. 663
17.1 Overview................................................................................................663
17.2 Block Diagram ........................................................................................663
17.3 Function Description ................................................................................663
17.5 Timing Diagram ......................................................................................665
17.6 Application Notes ....................................................................................665
Chapter 18 Temperature-Sensor ADC (TS-ADC) ......................................................... 666
18.1 Overview................................................................................................666
18.2 Block Diagram ........................................................................................666
18.3 Function Description ................................................................................666
18.5 Application Notes ....................................................................................672
Chapter 19 Pulse Density Modulation Interface Controller ............................................ 676
19.1 Overview................................................................................................676
19.2 Block Diagram ........................................................................................676
19.3 Function Description ................................................................................677
19.4 Register Description.................................................................................678
19.5 Interface Description ...............................................................................685
19.6 Application Notes ....................................................................................687
Chapter 20 SPDIF Transmitter ................................................................................. 688
20.1 Overview................................................................................................688
20.2 Block Diagram ........................................................................................688
20.3 Function description ................................................................................689
20.4 Register Description.................................................................................691
20.5 Interface Description ...............................................................................696
20.6 Application Notes ....................................................................................697
Chapter 21 I2S_TDM ............................................................................................. 698
21.1 Overview................................................................................................698
21.2 Controller Block Diagram ..........................................................................699
21.3 Function description ................................................................................700
21.4 Register description .................................................................................705
21.5 Interface Description ...............................................................................716
21.6 Application Notes ....................................................................................718
Chapter 22 I2C Interface ........................................................................................ 720
22.1 Overview................................................................................................720
22.2 Block Diagram ........................................................................................720
22.3 Function Description ................................................................................720
22.5 Interface Description ...............................................................................733
22.6 Application Notes ....................................................................................734
Chapter 23 Digital Audio Codec ............................................................................... 738
23.1 Overview................................................................................................738
23.2 Block Diagram ........................................................................................739
23.3 Function description ................................................................................739
23.4 Register Description.................................................................................741
23.5 Application Notes ....................................................................................766
Chapter 24 Voice Activity Detect (VAD)..................................................................... 769
24.1 Overview................................................................................................769
24.2 Block Diagram ........................................................................................769
24.3 Function Description ................................................................................770
24.4 Register Description.................................................................................772
24.5 Application Notes ....................................................................................781
Chapter 25 UART ................................................................................................... 784
25.1 Overview................................................................................................784
25.2 Block Diagram ........................................................................................784
25.3 Function Description ................................................................................785
25.4 Register Description.................................................................................787
25.5 Interface Description ...............................................................................806
25.6 Application Notes ....................................................................................810
Chapter 26 Serial Peripheral Interface (SPI) .............................................................. 812
26.1 Overview................................................................................................812
26.2 Block Diagram ........................................................................................812
26.3 Function Description ................................................................................813
26.4 Register Description.................................................................................815
26.5 Interface Description ...............................................................................825
26.6 Application Notes ....................................................................................826
Chapter 27 Flexible Serial Peripheral Interface (FSPI) ................................................. 829
27.1 Overview................................................................................................829
27.2 Block Diagram ........................................................................................829
27.3 Function Description ................................................................................829
27.4 Register Description.................................................................................830
27.5 Interface Description ...............................................................................848
27.6 Application Notes ....................................................................................849

- Rockchip_RK3568_TRM_Part2_V1.1-20210301.pdf
Chapter 1 DMC (Dynamic Memory Interface) ............................................................... 16
1.1 Overview .................................................................................................. 16
1.2 Block Diagram ........................................................................................... 16
1.3 Function Description ................................................................................... 17
1.4 Register Description ................................................................................... 18
1.5 Interface Description .................................................................................151
1.6 Application Notes ......................................................................................153
Chapter 2 DDR Converter of Frequency (DCF) ........................................................... 175
2.1 Overview .................................................................................................175
2.2 Block Diagram ..........................................................................................175
2.3 Register Description ..................................................................................176
2.4 Application Notes ......................................................................................178
Chapter 3 SPINLOCK.............................................................................................. 183
3.1 Overview .................................................................................................183
3.2 Block Diagram ..........................................................................................183
Chapter 4 Crypto ................................................................................................... 184
4.1 Overview .................................................................................................184
4.2 Block Diagram ..........................................................................................184
4.3 Register description ...................................................................................185
4.4 Application Note........................................................................................217
Chapter 5 True Random Number Generator(TRNG)..................................................... 224
5.1 Overview .................................................................................................224
5.2 Block Diagram ..........................................................................................224
5.3 Function Description ..................................................................................224
5.4 Register Description ..................................................................................224
5.5 Application Notes ......................................................................................227
Chapter 6 Mobile Storage Host Controller .................................................................. 228
6.1 Overview .................................................................................................228
6.2 Block Diagram ..........................................................................................228
6.3 Function Description ..................................................................................229
6.4 Register Description ..................................................................................249
6.5 Interface Description .................................................................................270
6.6 Application Notes ......................................................................................271
Chapter 7 eMMC Host Controller .............................................................................. 293
7.1 Overview .................................................................................................293
7.2 Block Diagram ..........................................................................................293
7.3 Function Description ..................................................................................293
7.4 Register Description ..................................................................................294
7.5 Interface Description .................................................................................351
7.6 Application Notes ......................................................................................352
Chapter 8 Nand Flash Controller (NandC).................................................................. 353
8.1 Overview .................................................................................................353
8.2 Block Diagram ..........................................................................................353
8.3 Function Description ..................................................................................354
8.4 Register Description ..................................................................................355
8.5 Interface Description .................................................................................403
8.6 Application Notes ......................................................................................404
Chapter 9 NPU ...................................................................................................... 410
9.1 Overview .................................................................................................410
9.2 Block Diagram ..........................................................................................410
9.3 Function Description ..................................................................................410
9.4 Register Description ..................................................................................411
9.5 Application Notes ......................................................................................458
Chapter 10 Multi-format Video Encoder and Decoder .................................................. 463
10.1 Overview................................................................................................463
10.2 Block Diagram ........................................................................................464
10.3 Video frame format .................................................................................464
10.4 Function Description ................................................................................467
10.5 Register Description.................................................................................478
10.6 Application Notes ....................................................................................941
Chapter 11 Video Capture (VICAP) ........................................................................... 948
11.1 Overview................................................................................................948
11.2 Block Diagram ........................................................................................948
11.3 Function Description ................................................................................948
11.4 VICAP Register Description .......................................................................949
11.5 Interface Description ...............................................................................979
11.6 Application Notes ....................................................................................980
Chapter 12 Image Signal Processing(ISP) .............................................................. 981
12.1 Introduction ...........................................................................................981
12.2 Block Diagram ........................................................................................982
12.3 Function Description ................................................................................982
12.4 Register Description.................................................................................990
12.5 Application Notes .................................................................................. 1394
CHAPTER 13 VOP ................................................................................................ 1410
13.1 Overview.............................................................................................. 1410
13.2 Block Diagram ...................................................................................... 1414
13.3 Function Description .............................................................................. 1414
13.5 Application Note .................................................................................... 1611
Chapter 14 Raster Graphic Acceleration (RGA2) ....................................................... 1614
14.1 Overview.............................................................................................. 1614
14.2 Features ............................................................................................... 1614
14.3 Function Description .............................................................................. 1616
14.4 Register description ............................................................................... 1620
14.5 Application Notes .................................................................................. 1650
Chapter 15 Image Enhancement Processor(IEP) ................................................... 1653
15.1 Overview.............................................................................................. 1653
15.2 Block Diagram ...................................................................................... 1653
15.3 Function Description .............................................................................. 1654
15.4 Register Description............................................................................... 1654
15.5 Application Notes .................................................................................. 1689
Chapter 16 USB2.0 Host....................................................................................... 1690
16.1 Overview.............................................................................................. 1690
16.2 Block Diagram ...................................................................................... 1690
16.3 Function Description .............................................................................. 1690
16.4 Register Description............................................................................... 1691
16.5 Interface Description ............................................................................. 1691
16.6 Application Notes .................................................................................. 1691
Chapter 17 USB3.0 Controller ............................................................................... 1696
17.1 Overview.............................................................................................. 1696
17.2 Block Diagram ...................................................................................... 1697
17.3 Function Description .............................................................................. 1697
17.5 Interface Description ............................................................................. 1747
17.6 Application Notes .................................................................................. 1747
Chapter 18 PCIe Controller ................................................................................... 1748
18.1 Overview.............................................................................................. 1748
18.2 Block Diagram ...................................................................................... 1748
18.3 Function Description .............................................................................. 1749
18.4 Register Description............................................................................... 1750
18.5 Interface Description ............................................................................. 1865
18.6 Application Notes .................................................................................. 1867
18.7 PCIe Appendix ...................................................................................... 1894
Chapter 19 SATA Host .......................................................................................... 1895
19.1 Overview.............................................................................................. 1895
19.2 Block Diagram ...................................................................................... 1895
19.3 Function Description .............................................................................. 1895
19.4 Register Description............................................................................... 1896
19.5 Interface Description ............................................................................. 1923
19.6 Application Notes .................................................................................. 1924
Chapter 20 Gigabit Media Access Controller (GMAC) ................................................. 1930
20.1 Overview.............................................................................................. 1930
20.2 Block Diagram ...................................................................................... 1932
20.3 Function Description .............................................................................. 1933
20.4 Register Description............................................................................... 1937
20.5 Interface Description ............................................................................. 2042
20.6 Application Note .................................................................................... 2043
Chapter 21 QSGMII/SGMII_PCS ............................................................................ 2072
21.1 Overview.............................................................................................. 2072
21.2 Function Description .............................................................................. 2072
21.3 Register Description............................................................................... 2078
21.4 Application Notes .................................................................................. 2152
Chapter 22 MULTI-PHY ......................................................................................... 2157
22.1 Overview.............................................................................................. 2157
22.2 Function Description .............................................................................. 2157
22.3 Register Description............................................................................... 2159
22.4 Interface Description ............................................................................. 2170
22.5 Application Notes .................................................................................. 2170
Chapter 23 AXI_SPLIT ......................................................................................... 2172
23.1 AXI_SPLIT ............................................................................................ 2172
23.2 Block Diagram ...................................................................................... 2172
23.3 Register Description............................................................................... 2172
23.4 Application Notes .................................................................................. 2173
Chapter 24 CAN .................................................................................................. 2176
24.1 Overview.............................................................................................. 2176
24.2 Function Description .............................................................................. 2176
24.3 Register Description............................................................................... 2185
24.4 Interface Description ............................................................................. 2213
24.5 Application Notes .................................................................................. 2214
Chapter 25 Smart Card Reader (SCR) .................................................................... 2219
25.1 Overview.............................................................................................. 2219
25.2 Block Diagram ...................................................................................... 2219
25.3 Function Description .............................................................................. 2220
25.4 Register Description............................................................................... 2223
25.5 Interface Description ............................................................................. 2231
25.6 Application Notes .................................................................................. 2231
Chapter 26 EBC .................................................................................................. 2233
26.1 Overview.............................................................................................. 2233
26.2 Block Diagram ...................................................................................... 2233
26.3 Function Description .............................................................................. 2233
26.4 Register Description............................................................................... 2239
26.5 Interface Description ............................................................................. 2247
26.6 Application Notes .................................................................................. 2248
Chapter 27 MIPI CSI HOST ................................................................................... 2249
27.1 Overview.............................................................................................. 2249
27.2 Block Diagram ...................................................................................... 2249
27.3 Function Description .............................................................................. 2249
27.4 Register Description............................................................................... 2251
27.5 Application Notes .................................................................................. 2258
Chapter 28 MIPI CSI DPHY ................................................................................... 2259
28.1 Overview.............................................................................................. 2259
28.2 Block Diagram ...................................................................................... 2259
28.3 Register Description............................................................................... 2259
28.4 Application Notes .................................................................................. 2273
Chapter 29 MIPI DSI HOST Controller .................................................................... 2273
29.1 Overview.............................................................................................. 2273
29.2 Block Diagram ...................................................................................... 2274
29.3 Function Description .............................................................................. 2275
29.5 Application Notes .................................................................................. 2313
Chapter 30 MIPI_TX_DPHY ................................................................................... 2316
30.1 Overview.............................................................................................. 2316
30.2 Function Description .............................................................................. 2316
30.3 Register Description............................................................................... 2317
30.4 Application Notes .................................................................................. 2321
Chapter 31 EDP TX Controller................................................................................ 2323
31.1 Overview.............................................................................................. 2323
31.2 Block Diagram ...................................................................................... 2323
31.3 Function Description .............................................................................. 2323
31.4 Register Description............................................................................... 2324
31.5 Interface Description ............................................................................. 2373
31.6 Application Notes .................................................................................. 2373
Chapter 32 HDMI TX ............................................................................................ 2390
32.1 Overview.............................................................................................. 2390
32.2 Block Diagram ...................................................................................... 2390
32.3 Function Description .............................................................................. 2390
32.4 HDMI PHY ............................................................................................ 2395
32.5 Register Description............................................................................... 2396
Chapter 33 HDCP22 Controller .............................................................................. 2573
33.1 Overview.............................................................................................. 2573
33.2 Block Diagram ...................................................................................... 2573
33.3 Function Description .............................................................................. 2574
33.4 Application Notes .................................................................................. 2579

